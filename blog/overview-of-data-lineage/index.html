<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>EgorDm's Blog • Overview of Data Lineage</title><link href=static/img/avatar.jpg rel=icon type=image/png><link title="EgorDm's Blog" href=https://egordmitriev.dev/atom.xml rel=alternate type=application/atom+xml><link href=https://egordmitriev.dev/custom_subset.css rel=stylesheet><link href=https://egordmitriev.dev/main.css media=screen rel=stylesheet><meta name=description><meta content="index, nofollow" name=robots><meta content="EgorDm's Blog" property=og:title><meta content=article property=og:type><meta content=https://egordmitriev.dev/blog/overview-of-data-lineage/ property=og:url><meta property=og:description><meta content="EgorDm's Blog" property=og:site_name><meta content="default-src 'self';font-src 'self' data: egordm.github.io;img-src 'self' https://* data: egordm.github.io;script-src 'self' egordm.github.io;style-src 'self' egordm.github.io;frame-src player.vimeo.com https://www.youtube-nocookie.com egordm.github.io" http-equiv=Content-Security-Policy><script src=https://egordmitriev.dev/js/initialize_theme_min.js></script><script defer src=https://egordmitriev.dev/js/main_min.js></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://egordmitriev.dev>EgorDm's Blog</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://egordmitriev.dev>home</a><li><a class="nav-links no-hover-padding" href=https://egordmitriev.dev/blog>blog</a><li><a class="nav-links no-hover-padding" href=https://egordmitriev.dev/archive>archive</a><li><a class="nav-links no-hover-padding" href=https://egordmitriev.dev/tags>tags</a><li class=theme-switcher-wrapper><div class=theme-switcher></div></ul></div></nav></header><div class=content><main><article><div class=article-title>Overview of Data Lineage</div><ul class=meta><li>13th Aug 2023 •<li title="1758 words"> 9 min read<li> • Tags: <li><a href=https://egordmitriev.dev/tags/data-engineering/>data engineering</a>, <li><a href=https://egordmitriev.dev/tags/dataops/>dataops</a></ul><section class=body><small> Originaly published as part of <a href=https://www.luminis.eu/blog/data-quality-series-part-3-overview-of-data-lineage/ target=_blank>Luminis Data Blog</a>. </small><h2 id=introduction><a aria-label="Anchor link for: introduction" class=zola-anchor href=#introduction>🔗</a>Introduction</h2><p>In this article, we will delve into the often overlooked, but crucial aspect of data quality – data lineage. Data lineage records the flow of data and all the transformations throughout its lifecycle, from source to destination. Understanding data lineage is vital for maintaining data integrity and transparency in data processes, making it an essential component of the data quality workflow.<p>We have previously explored the significance of data quality in our blog post, <a href=https://www.luminis.eu/blog/introduction-to-data-quality/ rel=noopener target=_blank>“Introduction to Data Quality”</a>, which emphasizes the importance of clean and standardized data for accurate analysis and decision-making. If you are interested in getting more hands-on experience with data quality testing, you can read our previous blog post, <a href=https://www.luminis.eu/blog/data-quality-testing-with-deequ-in-spark/ rel=noopener target=_blank>"Data Quality Testing with Deequ in Spark"</a>.<p>Now, we will take a closer look at data lineage, its benefits, and how it contributes to maintaining data reliability. As a whole, we aim to compile a comprehensive overview of important concepts to guide a user who is considering on implementing data lineage within their organization.<p>The rest of the blog is structured as follows:<ul><li><strong>What is Data Lineage?</strong><li><strong>Requirements for Effective Data Lineage</strong><li><strong>Benefits of Data Lineage</strong><li><strong>Tools for Data Lineage</strong></ul><h2 id=what-is-data-lineage><a aria-label="Anchor link for: what-is-data-lineage" class=zola-anchor href=#what-is-data-lineage>🔗</a>What is Data Lineage?</h2><p>Traditionally, the data resided in a data warehouse with only a few connections to external systems. Today, the as the demand has grown, the data flows between a multitude of systems, teams, and (external) organizations. Consequently, it is easy to overlook the impact of a single change somewhere in the lifecycle of the data.<p>Data lineage refers to the steps a dataset took to reach its current state. It encompasses the entire lifecycle of data, from its creation or ingestion to its consumption and usage in various processes and applications. By understanding data lineage, organizations gain visibility into how data is transformed and manipulated as it moves through different systems, processes, and transformations. It is an important tool for data engineers to debug potential issues in the data flow processes.<p>There are two primary types of data lineage: table-level lineage and field-level lineage. Table-level lineage provides an overview of the tables or datasets involved in the data flow, whereas field-level lineage goes deeper, tracking the lineage of individual fields or columns within those tables.<h2 id=requirements-for-effective-data-lineage><a aria-label="Anchor link for: requirements-for-effective-data-lineage" class=zola-anchor href=#requirements-for-effective-data-lineage>🔗</a>Requirements for Effective Data Lineage</h2><p>Data lineage is just like documentation, when done right, it shouldn't put an additional burden on your development workflow, and in fact, should only enhance it. To harness the full potential of data lineage, there are some general guidelines that should be satisfied as described in <a href=https://www.oreilly.com/library/view/data-quality-fundamentals/9781098112035/ rel=noopener target=_blank>Data Quality Fundamentals</a> book by Moses, et al.:<ol><li><strong>Fast Time to Value</strong>: Abstracting the relationships between data objects down to the field level is crucial for quick remediation. Simply tracking at the table level may be too broad and insufficient for understanding the impact of changes and identifying specific issues. (split point)<li><strong>Secure by Design</strong>: Data lineage shouldn't directly access the data. Instead, it should rely on metadata, logs, and queries to gather information about the data flow. This simplifies the design as well ensures that no potentially private business data leaks into your documentation.<li><strong>Automation</strong>: Manual maintenance of data lineage becomes increasingly challenging and error-prone as data pipelines become more complex. Investing in an automated data lineage generation approach saves time and reduces the risk of human error.<li><strong>Integration with Popular Data Tools</strong>: A data project typically orchestrates data flow between multiple tools. The lineage tracking should seamlessly integrate with these technologies to create a unified view of your business, rather than dictating your workflow.</ol><h2 id=benefits-of-data-lineage><a aria-label="Anchor link for: benefits-of-data-lineage" class=zola-anchor href=#benefits-of-data-lineage>🔗</a>Benefits of Data Lineage</h2><p>Implementing robust data lineage practices offers several benefits to organizations:<ol><li><strong>Communication and Transparency</strong>: Data lineage acts as a communication channel between data producers and data consumers. It helps bridge the gap between different teams by providing a clear understanding of the impact of broken or changed data on downstream consumers.<li><strong>Improved Data Quality and Trust</strong>: Data lineage allows organizations to build trust in their data assets. By providing visibility into the data's journey and transformation, it enhances data quality, reliability, and accuracy. This, in turn, promotes better decision-making based on trustworthy information.<li><strong>Compliance and Auditability</strong>: Data lineage supports compliance efforts by enabling organizations to demonstrate adherence to regulations, such as the General Data Protection Regulation (GDPR). It provides an audit trail of data usage and ensures transparency in data management practices.</ol><p>Some practical applications of data lineage in use include:<ul><li><strong>Debugging</strong>: When issues arise in data analysis or reporting, data lineage can be invaluable for root cause analysis. By tracing the lineage of problematic data, analysts can identify where the issue originated and take corrective action more efficiently.<li><strong>Reducing Technical Debt</strong>: Data lineage helps identify columns or fields that are no longer in use or have been deprecated. By marking and propagating these changes downstream, organizations can reduce technical debt and streamline their data pipelines.<li><strong>Governance</strong>: With privacy regulations and data governance becoming increasingly important, data lineage provides a way to track how personally identifiable information (PII) is used within an organization. It enables organizations to understand who has access to sensitive data, how it is utilized, and ensures compliance with data protection regulations.</ul><h2 id=tools-for-data-lineage><a aria-label="Anchor link for: tools-for-data-lineage" class=zola-anchor href=#tools-for-data-lineage>🔗</a>Tools for Data Lineage</h2><p>Now, let's explore some powerful tools that can help you establish and maintain a seamless data lineage process.<h3 id=openlineage><a aria-label="Anchor link for: openlineage" class=zola-anchor href=#openlineage>🔗</a>OpenLineage</h3><p><a href=https://openlineage.io/ rel=noopener target=_blank>OpenLineage</a> is an emerging industry standard for data lineage tracking that is gaining traction. It is supported by the Linux Foundation, Atronomer, Collibra. It <a href=https://openlineage.io/blog/why-open-standard rel=noopener target=_blank>aims to establish a unified framework</a> for capturing, managing, and sharing data lineage metadata across various tools and platforms. OpenLineage provides a consistent way to represent data lineage, making it easier to integrate with different systems and tools. You can easily incorporate it with any tool by submitting events to its API endpoint.<p>One exciting integration with OpenLineage is the combination with <a href=https://marquezproject.github.io/marquez/ rel=noopener target=_blank>Marquez</a>, a metadata service that tracks data workflows and lineage, open-sourced by WeWork. Together, they offer a simple, yet powerful solution to maintain a comprehensive and standardized view of data lineage. With this integration, you can easily trace data transformations, dependencies, and the origin of data through various data pipelines.<h3 id=microsoft-purview><a aria-label="Anchor link for: microsoft-purview" class=zola-anchor href=#microsoft-purview>🔗</a>Microsoft Purview</h3><p><a href=https://www.microsoft.com/en-ww/security/business/microsoft-purview rel=noopener target=_blank>Microsoft Purview</a> is a comprehensive data governance and data cataloging solution that also offers <a href=https://learn.microsoft.com/en-us/purview/concept-data-lineage rel=noopener target=_blank>data lineage capabilities</a>. Purview is part of the Microsoft Azure ecosystem and integrates well with other Azure services. It allows organizations to discover, classify, and understand their data assets, making it easier to implement robust data lineage practices.<p>One notable feature of Purview is its integration with Azure Data Factory (ADF). While ADF provides some level of data lineage tracking through job dependencies, Purview enhances this functionality by offering a more unified and visual representation of data lineage across the data ecosystem.<figure class=image-captions-figure><img alt="Anomaly Detection on Row Count quality metric in Soda Cloud" height=282 src=https://egordmitriev.dev/processed_images/MS-Purview-Lineage.388b62fc787624b7.png width=700><figcaption class=image-captions-caption><p>Data Lineage in Microsoft Purview</p></figcaption></figure><h3 id=datahub><a aria-label="Anchor link for: datahub" class=zola-anchor href=#datahub>🔗</a>Datahub</h3><p><a href=https://github.com/datahub-project/datahub rel=noopener target=_blank>Datahub</a> is a versatile data platform that provides robust data lineage capabilities, among other features. It offers extensive integration support, making it suitable for various data environments. While it is open source, the installation is quite heavy and requires both Kafka and Elasticsearch to operate, making it a tough choice for small projects.<p>Datahub can handle large-scale data lineage requirements. Data engineers and data analysts can rely on Datahub to trace data paths, identify data inconsistencies, and ensure data quality across their pipelines, making it a one-stop shop data quality tool.<figure class=image-captions-figure><img alt="Anomaly Detection on Row Count quality metric in Soda Cloud" height=327 src=https://egordmitriev.dev/processed_images/datahub-lineage.d493df7b70d15ac5.png width=700><figcaption class=image-captions-caption><p>Dataset Lineage overview in DataHub</p></figcaption></figure><h4 id=spline><a aria-label="Anchor link for: spline" class=zola-anchor href=#spline>🔗</a>Spline</h4><p>If your organization mainly utilizes Apache Spark for data processing, <a href=https://absaoss.github.io/spline/ rel=noopener target=_blank>Spline</a> is an excellent tool to consider for data lineage tracking. Spline offers the ability to join lineage across multiple datasets, providing a comprehensive view of how data transformations take place.<p>One notable advantage of Spline is its compatibility with OpenLineage (<a href=https://github.com/AbsaOSS/spline-openlineage rel=noopener target=_blank>currently as POC</a>). This allows you to leverage OpenLineage's ecosystem to combine lineage across environments for visualization.<figure class=image-captions-figure><img alt="Anomaly Detection on Row Count quality metric in Soda Cloud" height=300 src=https://egordmitriev.dev/processed_images/spline_lineage.d9e3d629122c114c.jpg width=400><figcaption class=image-captions-caption><p>Dataset High Level Data Lineage overview in Spline UI</p></figcaption></figure><h4 id=dbt-data-build-tool-and-dagster><a aria-label="Anchor link for: dbt-data-build-tool-and-dagster" class=zola-anchor href=#dbt-data-build-tool-and-dagster>🔗</a>DBT (Data Build Tool) and Dagster</h4><p>DBT and Dagster are two powerful data tools that emphasize data-first practices and can significantly contribute to your data lineage efforts.<p>DBT is a popular data transformation tool that enables data engineers and analysts to model, transform, and organize data in a structured manner. By leveraging DBT's features, you can ensure that your data lineage accurately reflects data transformations and helps maintain data integrity.<p>On the other hand, Dagster is a data orchestration tool designed to facilitate the development and management of data workflows. With Dagster, you can build robust data pipelines that capture data lineage effectively, making it easier to identify and resolve issues in your data processes.<figure class=image-captions-figure><img alt="Anomaly Detection on Row Count quality metric in Soda Cloud" height=467 src=https://egordmitriev.dev/processed_images/dagster-lineage.31462da7369c6594.png width=500><figcaption class=image-captions-caption><p>Data Graph in Dagster Combining FiveTran, DBT and Tensorflow Assets</p></figcaption></figure><h4 id=apache-airflow><a aria-label="Anchor link for: apache-airflow" class=zola-anchor href=#apache-airflow>🔗</a>Apache Airflow</h4><p>Apache Airflow is a widely used workflow management platform that, while not a strict data lineage tool, supports data lineage indirectly through its connectors and integrations. By utilizing these connectors, you can associate data pipelines with metadata about the data sources, dependencies, and transformations.<p>While Airflow's data lineage capabilities might not be as sophisticated as some dedicated data lineage tools, it can still play a significant role in providing visibility into your data workflows and their impact on downstream processes.<h2 id=conclusion><a aria-label="Anchor link for: conclusion" class=zola-anchor href=#conclusion>🔗</a>Conclusion</h2><p>In conclusion, data lineage is a vital aspect of data quality, providing transparency in data processes and transformations. Building your lineage with best practices in mind, such as automation and the correct level of abstraction, brings a multitude of benefits like improved communication, enhanced data quality, and compliance support.<p>Powerful tools are available for establishing and maintaining data lineage, offering unified frameworks for metadata management and comprehensive tracking across workflows.<p>Embracing data lineage and leveraging these tools empowers everyone within the organization to make better decisions, ensure data reliability, and build trust in their data.</section></article></main></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://egordmitriev.dev/atom.xml target=_blank> <img alt=atom feed src=https://egordmitriev.dev/social_icons/rss.svg title=atom> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://github.com/egordm/ target=_blank> <img alt=github src=https://egordmitriev.dev/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener noreferrer" href=https://www.linkedin.com/in/egor-dmitriev/ target=_blank> <img alt=linkedin src=https://egordmitriev.dev/social_icons/linkedin.svg title=linkedin> </a></ul></nav><div class=credits><small>Powered by <a href=https://www.getzola.org target=_blank>Zola</a> & <a href=https://github.com/welpo/tabi target=_blank>tabi</a></small></div></section></footer>